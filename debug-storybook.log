[14:08:52.707] [INFO] Storybook Upgrade - v9.0.18
[14:08:52.718] [INFO] detect-projects-spinner-start: Detecting projects...
[14:08:52.720] [DEBUG] Finding Storybook projects...
[14:08:52.875] [DEBUG] Found 1 Storybook projects
[14:08:52.876] [INFO] detect-projects-spinner: Detecting projects: 1 projects
[14:08:52.876] [DEBUG] Getting Storybook data...
[14:08:52.876] [DEBUG] Getting Storybook info...
[14:08:52.877] [DEBUG] Loading main config...
[14:08:53.222] [DEBUG] Getting stories paths...
[14:08:53.246] [DEBUG] Getting package manager...
[14:08:53.441] [DEBUG] Getting Storybook version...
[14:08:53.442] [DEBUG] /.storybook - Validating before version... 8.6.14
[14:08:53.442] [DEBUG] /.storybook - Validating upgrade compatibility...
[14:08:53.442] [DEBUG] /.storybook - Fetching NPM version information...
[14:08:53.442] [DEBUG] Getting CLI versions from NPM for storybook...
[14:08:53.444] [DEBUG] Getting CLI versions from NPM for storybook@next...
[14:08:54.333] [DEBUG] /.storybook - Evaluating blockers...
[14:08:54.334] [DEBUG] Getting installed version for @storybook/experimental-addon-test...
[14:08:54.683] [INFO] detect-projects-spinner-stop: 1 project detected
[14:08:54.683] [DEBUG] Found 1 valid projects and 0 error projects
[14:08:54.683] [INFO] Upgrading from 8.6.14 to 9.0.18
[14:08:54.691] [INFO] upgrade-dependencies-task-start: Fetching versions to update package.json files..
[14:08:54.691] [DEBUG] Updating dependencies in /.storybook...
[14:08:54.698] [INFO] upgrade-dependencies-task: /package.json
[14:08:54.698] [DEBUG] Getting CLI versions from NPM for @chromatic-com/storybook...
[14:08:54.699] [DEBUG] Getting CLI versions from NPM for @storybook/addon-webpack5-compiler-babel...
[14:08:55.250] [DEBUG] {
  "upgradedDependencies": []
}
[14:08:55.250] [DEBUG] {
  "upgradedDevDependencies": [
    "@storybook/addon-links@9.0.18",
    "@storybook/react@9.0.18",
    "@storybook/react-webpack5@9.0.18",
    "storybook@9.0.18",
    "@chromatic-com/storybook@4.0.1",
    "@storybook/addon-webpack5-compiler-babel@3.0.6"
  ]
}
[14:08:55.250] [DEBUG] {
  "upgradedPeerDependencies": []
}
[14:08:55.251] [DEBUG] Getting CLI versions from NPM for @storybook/addon-links...
[14:08:56.037] [DEBUG] Getting CLI versions from NPM for @storybook/react...
[14:08:56.831] [DEBUG] Getting CLI versions from NPM for @storybook/react-webpack5...
[14:08:57.460] [DEBUG] Using cached version for storybook...
[14:08:57.460] [DEBUG] Using cached version for @chromatic-com/storybook...
[14:08:57.460] [DEBUG] Using cached version for @storybook/addon-webpack5-compiler-babel...
[14:08:57.460] [INFO] upgrade-dependencies-task-success: Updated package versions in package.json files
[14:08:57.461] [INFO] detect-automigrations-task-start: Detecting automigrations...
[14:08:57.461] [DEBUG] Starting automigration collection across 1 projects and 15 fixes...
[14:08:57.468] [INFO] detect-automigrations-task: Checking automigrations for /.storybook...
[14:08:57.468] [DEBUG] Processing project: /.storybook
[14:08:57.468] [DEBUG] Checking fix eslintPlugin for project /.storybook...
[14:08:57.469] [DEBUG] Checking fix addon-mdx-gfm-remove for project /.storybook...
[14:08:57.470] [DEBUG] Checking fix addon-storysource-code-panel for project /.storybook...
[14:08:57.470] [DEBUG] Checking fix upgrade-storybook-related-dependencies for project /.storybook...
[14:08:57.470] [DEBUG] Checking for incompatible storybook packages...
[14:08:57.473] [DEBUG] Getting installed version for @storybook/test...
[14:08:57.474] [DEBUG] Getting installed version for @storybook/addon-actions...
[14:08:57.474] [DEBUG] Getting installed version for @storybook/addon-essentials...
[14:08:57.475] [DEBUG] Getting installed version for @storybook/addon-interactions...
[14:08:57.475] [DEBUG] Getting installed version for storybook-dark-mode...
[14:08:57.475] [DEBUG] Getting installed version for @chromatic-com/storybook...
[14:08:57.750] [DEBUG] Getting CLI versions from NPM for @storybook/addon-interactions...
[14:08:57.751] [DEBUG] Getting CLI versions from NPM for storybook-dark-mode...
[14:08:57.755] [DEBUG] Getting CLI versions from NPM for @storybook/test...
[14:08:57.756] [DEBUG] Getting CLI versions from NPM for @storybook/addon-actions...
[14:08:57.757] [DEBUG] Getting CLI versions from NPM for @storybook/addon-essentials...
[14:08:57.757] [DEBUG] Using cached version for @chromatic-com/storybook...
[14:08:59.332] [DEBUG] Checking fix initial-globals for project /.storybook...
[14:08:59.344] [DEBUG] Checking fix addon-a11y-addon-test for project /.storybook...
[14:08:59.344] [DEBUG] Checking fix consolidated-imports for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix addon-experimental-test for project /.storybook...
[14:08:59.345] [DEBUG] Using cached installed version for @storybook/experimental-addon-test...
[14:08:59.345] [DEBUG] Checking fix rnstorybook-config for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix remove-addon-interactions for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix renderer-to-framework for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix remove-essential-addons for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix addon-a11y-parameters for project /.storybook...
[14:08:59.345] [DEBUG] Checking fix remove-docs-autodocs for project /.storybook...
[14:08:59.347] [DEBUG] Checking fix wrap-require for project /.storybook...
[14:08:59.356] [INFO] detect-automigrations-task: 
Automigrations detected:
[14:08:59.363] [INFO] detect-automigrations-task: ✔ upgrade-storybook-related-dependencies
[14:08:59.369] [INFO] detect-automigrations-task: ✔ consolidated-imports
[14:08:59.375] [INFO] detect-automigrations-task: ✔ remove-addon-interactions
[14:08:59.381] [INFO] detect-automigrations-task: ✔ renderer-to-framework
[14:08:59.386] [INFO] detect-automigrations-task: ✔ remove-essential-addons
[14:08:59.386] [INFO] detect-automigrations-task-success: 5 automigration(s) detected
[14:10:30.827] [PROMPT] Select automigrations to run {"choice":["upgrade-storybook-related-dependencies","consolidated-imports","remove-addon-interactions","renderer-to-framework","remove-essential-addons"]}
[14:10:30.828] [INFO] automigrate-/.storybook-task-start: Running automigrations for /.storybook
[14:10:30.844] [INFO] automigrate-/.storybook-task: ✔ upgrade-storybook-related-dependencies
[14:10:30.867] [INFO] automigrate-/.storybook-task: ✔ consolidated-imports
[14:10:30.870] [DEBUG] Uninstalling @storybook/addon-interactions
[14:10:30.871] [DEBUG] Removing '@storybook/addon-interactions' from main.js addons field.
[14:10:30.883] [INFO] automigrate-/.storybook-task: ✔ remove-addon-interactions
[14:10:30.884] [DEBUG] 
Migrating @storybook/react to @storybook/react-webpack5
[14:10:30.890] [DEBUG] Updating package.json files...
[14:10:30.898] [INFO] automigrate-/.storybook-task: ✔ renderer-to-framework
[14:10:30.900] [DEBUG] Uninstalling @storybook/addon-essentials
[14:10:30.901] [DEBUG] Removing '@storybook/addon-essentials' from main.js addons field.
[14:10:30.903] [DEBUG] Uninstalling @storybook/addon-actions
[14:10:30.906] [DEBUG] Getting Storybook info...
[14:10:30.907] [DEBUG] Loading main config...
[14:10:30.910] [DEBUG] Getting stories paths...
[14:10:30.910] [DEBUG] Getting package manager...
[14:10:30.916] [DEBUG] Getting Storybook version...
[14:10:30.925] [INFO] automigrate-/.storybook-task: Verifying @storybook/addon-docs
[14:10:30.930] [INFO] automigrate-/.storybook-task: Installing @storybook/addon-docs@9.0.18
[14:10:30.930] [DEBUG] Getting CLI versions from NPM for @storybook/addon-docs...
[14:10:31.798] [INFO] automigrate-/.storybook-task: ✔ remove-essential-addons
[14:10:31.798] [INFO] automigrate-/.storybook-task-success: Completed automigrations for /.storybook
[14:10:31.798] [INFO] Installing dependencies...
[14:10:31.798] [INFO] install-dependencies-task-start: Installing dependencies...
[14:10:31.986] [INFO] ➤ YN0000: · Yarn 4.6.0
[14:10:31.994] [INFO] install-dependencies-task: ➤ YN0000: · Yarn 4.6.0
[14:10:31.994] [INFO] ➤ YN0000: ┌ Resolution step
[14:10:32.001] [INFO] install-dependencies-task: ➤ YN0000: ┌ Resolution step
[14:10:33.941] [INFO] ➤ YN0085: │ + @chromatic-com/storybook@npm:4.0.1, @storybook/addon-docs@npm:9.0.18, @storybook/addon-links@npm:9.0.18, @storybook/react-webpack5@npm:9.0.18, and 24 more.
[14:10:33.952] [INFO] install-dependencies-task: ➤ YN0085: │ + @chromatic-com/storybook@npm:4.0.1,
@storybook/addon-docs@npm:9.0.18, @storybook/addon-links@npm:9.0.18,
@storybook/react-webpack5@npm:9.0.18, and 24 more.
[14:10:33.952] [INFO] ➤ YN0085: │ - @chromatic-com/storybook@npm:3.2.6, @storybook/addon-actions@npm:8.6.14, @storybook/addon-backgrounds@npm:8.6.14, @storybook/addon-controls@npm:8.6.14, and 81 more.
[14:10:33.960] [INFO] install-dependencies-task: ➤ YN0085: │ - @chromatic-com/storybook@npm:3.2.6,
@storybook/addon-actions@npm:8.6.14, @storybook/addon-backgrounds@npm:8.6.14,
@storybook/addon-controls@npm:8.6.14, and 81 more.
[14:10:33.960] [INFO] ➤ YN0000: └ Completed in 1s 963ms
➤ YN0000: ┌ Post-resolution validation
➤ YN0060: │ rollup is listed by your project with version 4.45.0 (p33bd2), which doesn't satisfy what rollup-plugin-terser and other dependencies request (but they have non-overlapping ranges!).
➤ YN0002: │ mds@workspace:. doesn't provide @testing-library/dom (p4c0ec), requested by @testing-library/react.
➤ YN0002: │ mds@workspace:. doesn't provide react-is (pc4efa), requested by styled-components.
➤ YN0002: │ mds@workspace:. doesn't provide webpack (pb01db), requested by babel-loader.
➤ YN0086: │ Some peer dependencies are incorrectly met by your project; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code.
➤ YN0086: │ Some peer dependencies are incorrectly met by dependencies; run yarn explain peer-requirements for details.
➤ YN0000: └ Completed
➤ YN0000: ┌ Fetch step
[14:10:33.970] [INFO] install-dependencies-task: ➤ YN0000: └ Completed in 1s 963ms
➤ YN0000: ┌ Post-resolution validation
➤ YN0060: │ rollup is listed by your project with version 4.45.0 (p33bd2), which
doesn't satisfy what rollup-plugin-terser and other dependencies request (but
they have non-overlapping ranges!).
➤ YN0002: │ mds@workspace:. doesn't provide @testing-library/dom (p4c0ec),
requested by @testing-library/react.
➤ YN0002: │ mds@workspace:. doesn't provide react-is (pc4efa), requested by
styled-components.
➤ YN0002: │ mds@workspace:. doesn't provide webpack (pb01db), requested by
babel-loader.
➤ YN0086: │ Some peer dependencies are incorrectly met by your project; run yarn
explain peer-requirements <hash> for details, where <hash> is the six-letter
p-prefixed code.
➤ YN0086: │ Some peer dependencies are incorrectly met by dependencies; run yarn
explain peer-requirements for details.
➤ YN0000: └ Completed
➤ YN0000: ┌ Fetch step
[14:10:35.401] [INFO] ➤ YN0013: │ 6 packages were added to the project (+ 11.23 MiB).
[14:10:35.411] [INFO] install-dependencies-task: ➤ YN0013: │ 6 packages were added to the project (+ 11.23 MiB).
[14:10:35.412] [INFO] ➤ YN0000: └ Completed in 1s 446ms
[14:10:35.419] [INFO] install-dependencies-task: ➤ YN0000: └ Completed in 1s 446ms
[14:10:35.429] [INFO] ➤ YN0000: ┌ Link step
[14:10:35.437] [INFO] install-dependencies-task: ➤ YN0000: ┌ Link step
[14:10:36.281] [INFO] ➤ YN0000: └ Completed in 0s 852ms
[14:10:36.288] [INFO] install-dependencies-task: ➤ YN0000: └ Completed in 0s 852ms
[14:10:36.335] [INFO] ➤ YN0000: · Done with warnings in 4s 349ms
[14:10:36.342] [INFO] install-dependencies-task: ➤ YN0000: · Done with warnings in 4s 349ms
[14:10:36.360] [INFO] Dependencies installed
[14:10:36.360] [INFO] install-dependencies-task-success: Dependencies installed
[14:10:36.360] [INFO] Checking the health of your project(s)..
[14:10:36.574] [WARN] /.storybook: 1 issue found
[14:10:36.581] [INFO] You are currently using Storybook 9.0.18 but you have packages which are incompatible with it:

- storybook-dark-mode@4.0.2 which depends on ^8.0.0

Please consider updating your packages or contacting the maintainers for compatibility details.

For more on Storybook 9 compatibility, see the linked GitHub issue:
https://github.com/storybookjs/storybook/issues/30944
[14:10:36.581] [INFO] Incompatible Packages
[14:10:36.587] [INFO] You are currently using Storybook 9.0.18 but you have packages which are incompatible with it:

- storybook-dark-mode@4.0.2 which depends on ^8.0.0

Please consider updating your packages or contacting the maintainers for compatibility details.

For more on Storybook 9 compatibility, see the linked GitHub issue:
https://github.com/storybookjs/storybook/issues/30944
[14:10:36.593] [INFO] Storybook doctor is complete!
[14:10:36.599] [INFO] You can always recheck the health of your project(s) by running:
npx storybook doctor
[14:10:36.606] [INFO] The upgrade is complete!
[14:10:36.612] [INFO] Your project(s) have been upgraded successfully, but some issues were found which need your attention, please check Storybook doctor logs above.
[14:10:36.646] [INFO] If you want to learn more about the automigrations that executed in your project(s), please check the following links:

• upgrade-storybook-related-dependencies: undefined
• consolidated-imports: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#dropped-support-for-legacy-packages
• remove-addon-interactions: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#essentials-addon-viewport-controls-interactions-and-actions-moved-to-core
• renderer-to-framework: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#moving-from-renderer-based-to-framework-based-configuration
• remove-essential-addons: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#essentials-addon-viewport-controls-interactions-and-actions-moved-to-core
[14:10:36.652] [INFO] For a full list of changes, please check our migration guide: https://storybook.js.org/docs/migration-guide
[14:10:36.658] [INFO] Attention: Storybook now collects completely anonymous telemetry regarding usage. This information is used to shape Storybook's roadmap and prioritize features.
[14:10:36.664] [INFO] You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
[14:10:36.670] [INFO] https://storybook.js.org/telemetry
[14:10:36.676] [INFO] 